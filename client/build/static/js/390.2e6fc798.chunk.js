"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[390],{1321:(e,s,t)=>{t.d(s,{A:()=>a});const r=t(9722).A.create({baseURL:"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var s;return 401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const a=r},3390:(e,s,t)=>{t.r(s),t.d(s,{default:()=>R});var r=t(2555),a=t(5043),n=t(3216),o=t(5475),i=t(6351),l=t(1321),d=t(7488),c=t(5491),h=t(6446),u=t(5865),m=t(8903),A=t(5795),x=t(1787),p=t(3193),j=t(9190),f=t(4981),w=t(7970),g=t(7392),v=t(1906),y=t(1637),P=t(8262),b=t(1007),C=t(9893),N=t(9974),S=t(3632),W=t(3559),I=t(579);const R=()=>{const[e,s]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",gender:"",password:"",confirmPassword:"",showPassword:!1}),[t,R]=(0,a.useState)(!1),{login:k}=(0,i.A)(),z=(0,n.Zp)(),q=t=>a=>{s((0,r.A)((0,r.A)({},e),{},{[t]:a.target.value}))};return(0,I.jsx)(c.A,{maxWidth:"sm",children:(0,I.jsxs)(h.A,{sx:{mt:8,p:4,boxShadow:3,borderRadius:2},children:[(0,I.jsx)(u.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Create Account"}),(0,I.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),e.password===e.confirmPassword){R(!0);try{const s=await l.A.post("/auth/register",{firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,gender:e.gender,password:e.password});"success"===s.data.status&&(k(s.data.data.user,s.data.token),d.oR.success("\u2705 Registration successful!"),z("/dashboard",{replace:!0}))}catch(a){var t,r;console.error("\u274c Registration error:",a),d.oR.error((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Registration failed. Please try again.")}finally{R(!1)}}else d.oR.error("\u274c Passwords don't match")},children:[(0,I.jsxs)(m.Ay,{container:!0,spacing:2,children:[(0,I.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"First Name",value:e.firstName,onChange:q("firstName"),required:!0,InputProps:{startAdornment:(0,I.jsx)(x.A,{position:"start",children:(0,I.jsx)(C.A,{fontSize:"small"})})}})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,sm:6,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"Last Name",value:e.lastName,onChange:q("lastName"),required:!0})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"Email",type:"email",value:e.email,onChange:q("email"),required:!0,InputProps:{startAdornment:(0,I.jsx)(x.A,{position:"start",children:(0,I.jsx)(P.A,{fontSize:"small"})})}})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"Phone Number",value:e.phone,onChange:q("phone"),InputProps:{startAdornment:(0,I.jsx)(x.A,{position:"start",children:(0,I.jsx)(N.A,{fontSize:"small"})})}})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,children:(0,I.jsxs)(p.A,{fullWidth:!0,children:[(0,I.jsx)(j.A,{children:"Gender"}),(0,I.jsxs)(f.A,{value:e.gender,onChange:q("gender"),label:"Gender",children:[(0,I.jsx)(w.A,{value:"male",children:"Male"}),(0,I.jsx)(w.A,{value:"female",children:"Female"}),(0,I.jsx)(w.A,{value:"other",children:"Other"}),(0,I.jsx)(w.A,{value:"prefer-not-to-say",children:"Prefer not to say"})]})]})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"Password",type:e.showPassword?"text":"password",value:e.password,onChange:q("password"),required:!0,InputProps:{startAdornment:(0,I.jsx)(x.A,{position:"start",children:(0,I.jsx)(b.A,{fontSize:"small"})}),endAdornment:(0,I.jsx)(g.A,{type:"button",onClick:()=>s((0,r.A)((0,r.A)({},e),{},{showPassword:!e.showPassword})),children:e.showPassword?(0,I.jsx)(W.A,{}):(0,I.jsx)(S.A,{})})}})}),(0,I.jsx)(m.Ay,{item:!0,xs:12,children:(0,I.jsx)(A.A,{fullWidth:!0,label:"Confirm Password",type:"password",value:e.confirmPassword,onChange:q("confirmPassword"),required:!0,InputProps:{startAdornment:(0,I.jsx)(x.A,{position:"start",children:(0,I.jsx)(b.A,{fontSize:"small"})})}})})]}),(0,I.jsx)(v.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,py:1.5},disabled:t,startIcon:t&&(0,I.jsx)(y.A,{size:20}),children:t?"Creating Account...":"Register"}),(0,I.jsxs)(u.A,{align:"center",children:["Already have an account?"," ",(0,I.jsx)(o.N_,{to:"/login",style:{fontWeight:"bold",textDecoration:"none"},children:"Sign In"})]})]})]})})}},6351:(e,s,t)=>{t.d(s,{A:()=>n});var r=t(5043);t(9722);t(579);const a=(0,r.createContext)(),n=()=>{const e=(0,r.useContext)(a);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}}}]);
//# sourceMappingURL=390.2e6fc798.chunk.js.map